package com.licensis.notaire.dto;
// Generated 19/04/2012 16:59:26 by Hibernate Tools 3.2.1.GA

import com.licensis.notaire.dto.interfaces.DtoValido;
import java.util.Date;
import com.licensis.notaire.servicios.AdministradorValidaciones;

/**
 * DtoSuplencia generated by hbm2java
 */
public class DtoSuplencia implements DtoValido
{

    private Integer idSuplencia;
    private DtoPersona personasByFkIdSuplente;
    private DtoPersona personasByFkIdSuplantado;
    private Date fechaInicio;
    private Date fechaFin;
    private String observaciones;

    public DtoSuplencia() {
    }

    public DtoSuplencia(DtoPersona personasByFkIdSuplente, DtoPersona personasByFkIdSuplantado, Date fechaInicio, Date fechaFin) {
        this.personasByFkIdSuplente = personasByFkIdSuplente;
        this.personasByFkIdSuplantado = personasByFkIdSuplantado;
        this.fechaInicio = fechaInicio;
        this.fechaFin = fechaFin;
    }

    public DtoSuplencia(DtoPersona personasByFkIdSuplente, DtoPersona personasByFkIdSuplantado, Date fechaInicio, Date fechaFin, String observaciones) {
        this.personasByFkIdSuplente = personasByFkIdSuplente;
        this.personasByFkIdSuplantado = personasByFkIdSuplantado;
        this.fechaInicio = fechaInicio;
        this.fechaFin = fechaFin;
        this.observaciones = observaciones;
    }

    public Integer getIdSuplencia() {
        return this.idSuplencia;
    }

    public void setIdSuplencia(Integer idSuplencia) {
        this.idSuplencia = idSuplencia;
    }

    public DtoPersona getPersonasByFkIdSuplente() {
        return this.personasByFkIdSuplente;
    }

    public void setPersonasByFkIdSuplente(DtoPersona personasByFkIdSuplente) {
        this.personasByFkIdSuplente = personasByFkIdSuplente;
    }

    public DtoPersona getPersonasByFkIdSuplantado() {
        return this.personasByFkIdSuplantado;
    }

    public void setPersonasByFkIdSuplantado(DtoPersona personasByFkIdSuplantado) {
        this.personasByFkIdSuplantado = personasByFkIdSuplantado;
    }

    public Date getFechaInicio() {
        return this.fechaInicio;
    }

    public void setFechaInicio(Date fechaInicio) {
        this.fechaInicio = fechaInicio;
    }

    public Date getFechaFin() {
        return this.fechaFin;
    }

    public void setFechaFin(Date fechaFin) {
        this.fechaFin = fechaFin;
    }

    public String getObservaciones() {
        return this.observaciones;
    }

    public void setObservaciones(String observaciones) {
        this.observaciones = observaciones;
    }

    @Override
    public Boolean isValido() {
        boolean resultado = true;

        if (!AdministradorValidaciones.getInstancia().validarFechasPosterioresHoy(this.getFechaInicio(), this.getFechaFin()))
        {
            return false;
        }

        //  Verifica que exista tanto la persona suplente como el suplantado
        if (!this.getPersonasByFkIdSuplantado().isValido() && !this.getPersonasByFkIdSuplente().isValido())
        {
            return false;
        }
        //  verifica que el suplente y el suplantado no sean iguales.
        if (this.getPersonasByFkIdSuplantado().getIdPersona() == this.getPersonasByFkIdSuplente().getIdPersona())
        {
            return false;
        }

        return resultado;
    }
}
